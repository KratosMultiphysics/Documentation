<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KratosMultiphysics: /home/runner/work/Documentation/Documentation/master/kratos/includes/define_registry.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../kratos_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KratosMultiphysics
   </div>
   <div id="projectbrief">KRATOS Multiphysics (Kratos) is a framework for building parallel, multi-disciplinary simulation software, aiming at modularity, extensibility, and high performance. Kratos is written in C++, and counts with an extensive Python interface.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_8fc3e8efef0bfca4a113d719cbd52afb.html">kratos</a></li><li class="navelem"><a class="el" href="../../dir_6da2b5da699b6e8099c18b866a052d71.html">includes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">define_registry.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdexcept&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d27/registry_8h_source.html">includes/registry.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d5e/registry__item_8h_source.html">includes/registry_item.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for define_registry.h:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/d76/define__registry_8h__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/d52/define__registry_8h__dep__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="../../db/d40/define__registry_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac85fac7f468f1e79b0b222b62c04ef4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d40/define__registry_8h.html#ac85fac7f468f1e79b0b222b62c04ef4e">KRATOS_REGISTRY_NAME_</a>(A,  B)&#160;&#160;&#160;A##B</td></tr>
<tr class="separator:ac85fac7f468f1e79b0b222b62c04ef4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d95cb257d9e507ac65ac58e96288577"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d40/define__registry_8h.html#a0d95cb257d9e507ac65ac58e96288577">KRATOS_REGISTRY_NAME</a>(A,  B)&#160;&#160;&#160;<a class="el" href="../../db/d40/define__registry_8h.html#ac85fac7f468f1e79b0b222b62c04ef4e">KRATOS_REGISTRY_NAME_</a>(A,B)</td></tr>
<tr class="separator:a0d95cb257d9e507ac65ac58e96288577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88ffed61a1d1474dae510cd74d1f024c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d40/define__registry_8h.html#a88ffed61a1d1474dae510cd74d1f024c">KRATOS_REGISTRY_ADD_PROTOTYPE</a>(NAME,  X,  Y)</td></tr>
<tr class="memdesc:a88ffed61a1d1474dae510cd74d1f024c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to register class prototypes This macro creates a static bool in the class (which value is not relevant and is supposed to be never accessed) This macro must be placed within the private section of the class (e.g. Process, Controller, DerivedProcess, etc) The macro forces a function to be evaluated in the declaration of the class First it checks if the provided key has been already registered (note that it checks the key but not the object) to then create a dispacher function that will initialize the registry object the first time it is accessed NOTE 1: The return type is intentionally the HasItem of the added item (and not a simple bool) in order to avoid the compiler to statically analize the function. NOTE 2: Also note that it is explicitly needed to define the dispatcher as TFunctionType or, in other words, putting the dispatcher function directly inside the std::move would break current code as the compiler will deduce the type of the lambda function to something that is not an std::function.  <a href="../../db/d40/define__registry_8h.html#a88ffed61a1d1474dae510cd74d1f024c">More...</a><br /></td></tr>
<tr class="separator:a88ffed61a1d1474dae510cd74d1f024c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf8d73b4cfd8abb62ccc09b122a6d67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d40/define__registry_8h.html#a6cf8d73b4cfd8abb62ccc09b122a6d67">KRATOS_REGISTRY_ADD_TEMPLATE_PROTOTYPE</a>(NAME,  X,  Y, ...)</td></tr>
<tr class="separator:a6cf8d73b4cfd8abb62ccc09b122a6d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a88ffed61a1d1474dae510cd74d1f024c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88ffed61a1d1474dae510cd74d1f024c">&#9670;&nbsp;</a></span>KRATOS_REGISTRY_ADD_PROTOTYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KRATOS_REGISTRY_ADD_PROTOTYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">NAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">X, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d40/define__registry_8h.html#a0d95cb257d9e507ac65ac58e96288577">KRATOS_REGISTRY_NAME</a>(_is_registered_, __LINE__) = []() -&gt; <span class="keywordtype">bool</span> {   \</div>
<div class="line">        using TFunctionType = std::function&lt;std::shared_ptr&lt;X&gt;()&gt;;                        \</div>
<div class="line">        std::string key_name = NAME + std::string(<span class="stringliteral">&quot;.&quot;</span>) + std::string(#Y);                 \</div>
<div class="line">        if (!Registry::HasItem(key_name))                                                 \</div>
<div class="line">        {                                                                                 \</div>
<div class="line">            auto &amp;r_item = Registry::AddItem&lt;RegistryItem&gt;(key_name);                     \</div>
<div class="line">            TFunctionType dispatcher = [](){<span class="keywordflow">return</span> std::make_shared&lt;Y&gt;();};               \</div>
<div class="line">            r_item.AddItem&lt;TFunctionType&gt;(<span class="stringliteral">&quot;Prototype&quot;</span>, std::move(dispatcher));            \</div>
<div class="line">        }                                                                                 \</div>
<div class="line">        return Registry::HasItem(key_name);                                               \</div>
<div class="line">    }();</div>
<div class="ttc" id="adefine__registry_8h_html_a0d95cb257d9e507ac65ac58e96288577"><div class="ttname"><a href="../../db/d40/define__registry_8h.html#a0d95cb257d9e507ac65ac58e96288577">KRATOS_REGISTRY_NAME</a></div><div class="ttdeci">#define KRATOS_REGISTRY_NAME(A, B)</div><div class="ttdef"><b>Definition:</b> define_registry.h:28</div></div>
</div><!-- fragment -->
<p>Macro to register class prototypes This macro creates a static bool in the class (which value is not relevant and is supposed to be never accessed) This macro must be placed within the private section of the class (e.g. Process, Controller, DerivedProcess, etc) The macro forces a function to be evaluated in the declaration of the class First it checks if the provided key has been already registered (note that it checks the key but not the object) to then create a dispacher function that will initialize the registry object the first time it is accessed NOTE 1: The return type is intentionally the HasItem of the added item (and not a simple bool) in order to avoid the compiler to statically analize the function. NOTE 2: Also note that it is explicitly needed to define the dispatcher as TFunctionType or, in other words, putting the dispatcher function directly inside the std::move would break current code as the compiler will deduce the type of the lambda function to something that is not an std::function. </p>

</div>
</div>
<a id="a6cf8d73b4cfd8abb62ccc09b122a6d67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf8d73b4cfd8abb62ccc09b122a6d67">&#9670;&nbsp;</a></span>KRATOS_REGISTRY_ADD_TEMPLATE_PROTOTYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KRATOS_REGISTRY_ADD_TEMPLATE_PROTOTYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">NAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">X, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Y, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d40/define__registry_8h.html#a0d95cb257d9e507ac65ac58e96288577">KRATOS_REGISTRY_NAME</a>(_is_registered_, __LINE__) = []() -&gt; <span class="keywordtype">bool</span> {                 \</div>
<div class="line">        using TFunctionType = std::function&lt;std::shared_ptr&lt;X&gt;()&gt;;                         \</div>
<div class="line">        std::string key_name = NAME + std::string(<span class="stringliteral">&quot;.&quot;</span>) + std::string(#Y) + <span class="stringliteral">&quot;&lt;&quot;</span> + <a class="code" href="../../d2/d93/class_kratos_1_1_registry.html#a305faa3f14316e0431b795167f73a4cb">Kratos::Registry::RegistryTemplateToString</a>(__VA_ARGS__) + <span class="stringliteral">&quot;&gt;&quot;</span>;    \</div>
<div class="line">        if (!Registry::HasItem(key_name))                                                               \</div>
<div class="line">        {                                                                                               \</div>
<div class="line">            auto &amp;r_item = Registry::AddItem&lt;RegistryItem&gt;(key_name);                                   \</div>
<div class="line">            TFunctionType dispatcher = [](){<span class="keywordflow">return</span> std::make_shared&lt;Y&lt;__VA_ARGS__&gt;&gt;();};                \</div>
<div class="line">            r_item.AddItem&lt;TFunctionType&gt;(<span class="stringliteral">&quot;Prototype&quot;</span>, std::move(dispatcher));                          \</div>
<div class="line">        } <span class="keywordflow">else</span> {                                                                                        \</div>
<div class="line">        }                                                                                               \</div>
<div class="line">        return Registry::HasItem(key_name);                                                             \</div>
<div class="line">    }();</div>
<div class="ttc" id="aclass_kratos_1_1_registry_html_a305faa3f14316e0431b795167f73a4cb"><div class="ttname"><a href="../../d2/d93/class_kratos_1_1_registry.html#a305faa3f14316e0431b795167f73a4cb">Kratos::Registry::RegistryTemplateToString</a></div><div class="ttdeci">static std::string RegistryTemplateToString(Types &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> registry.h:108</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d95cb257d9e507ac65ac58e96288577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d95cb257d9e507ac65ac58e96288577">&#9670;&nbsp;</a></span>KRATOS_REGISTRY_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KRATOS_REGISTRY_NAME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../db/d40/define__registry_8h.html#ac85fac7f468f1e79b0b222b62c04ef4e">KRATOS_REGISTRY_NAME_</a>(A,B)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac85fac7f468f1e79b0b222b62c04ef4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85fac7f468f1e79b0b222b62c04ef4e">&#9670;&nbsp;</a></span>KRATOS_REGISTRY_NAME_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KRATOS_REGISTRY_NAME_</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;A##B</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 28 2024 03:20:33 for KratosMultiphysics by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
