<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KratosMultiphysics: Thermal DEM Application</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../kratos_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KratosMultiphysics
   </div>
   <div id="projectbrief">KRATOS Multiphysics (Kratos) is a framework for building parallel, multi-disciplinary simulation software, aiming at modularity, extensibility, and high performance. Kratos is written in C++, and counts with an extensive Python interface.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Thermal DEM Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This application is an extension of the <a href="https://github.com/KratosMultiphysics/Kratos/tree/master/applications/DEMApplication">DEM Application</a> to include <b>thermal effects</b> such as:</p>
<ul>
<li>Heat transfer between particle-particle, particle-rigid wall, and particle-surrounding fluid.</li>
<li>Heat transfer mechanisms by conduction, convection, and radiation.</li>
<li>Heat generation by energy dissipation and internal sources.</li>
<li>Temperature dependent material properties.</li>
</ul>
<p>Theoretical information on thermal DEM analysis can be found <a href="../.././ThermalDEMTheory.pdf">here</a>.</p>
<p>A <a href="https://gitlab.com/rafaelrangel/demlab">Matlab version</a> of this application is also available.</p>
<h1>Table of Contents</h1>
<ul>
<li><a href="../../#authorship">Authorship</a></li>
<li><a href="../../#license">License</a></li>
<li><a href="../../#getting-started">Getting Started</a></li>
<li><a href="../../#instructions">Instructions</a><ul>
<li><a href="../../#mainkratos-python-file">MainKratos</a></li>
<li><a href="../../#project-parameters-json-file">Project Parameters</a></li>
<li><a href="../../#materials-json-file">Materials</a></li>
<li><a href="../../#dem-model-parts-mdpa-file">DEM Model Parts</a></li>
<li><a href="../../#dem-fem-boundary-model-parts-mdpa-file">DEM-FEM Boundary Model Parts</a></li>
</ul>
</li>
<li><a href="../../#input-explanations">Input Explanations</a></li>
<li><a href="../../#testing">Testing</a></li>
</ul>
<h1>Authorship</h1>
<ul>
<li><b>Rafael Rangel</b> - (<a href="#" onclick="location.href='mai'+'lto:'+'rra'+'ng'+'el@'+'ci'+'mne'+'.u'+'pc.'+'ed'+'u'; return false;">rrang<span style="display: none;">.nosp@m.</span>el@c<span style="display: none;">.nosp@m.</span>imne.<span style="display: none;">.nosp@m.</span>upc.<span style="display: none;">.nosp@m.</span>edu</a>)</li>
</ul>
<p>International Center for Numerical Methods in Engineering (<a href="https://www.cimne.com/">CIMNE</a>)</p>
<h1>License</h1>
<p>The Thermal DEM application is OPEN SOURCE. The main code and program structure is available and aimed to grow with the need of any users willing to expand it. The BSD (Berkeley Software Distribution) licence allows to use and distribute the existing code without any restriction, but with the possibility to develop new parts of the code on an open or close basis depending on the developers.</p>
<h1>Getting Started</h1>
<p>This application is part of the <em><b><a class="el" href="../../db/d66/namespace_kratos.html" title="REF: G. R. Cowper, GAUSSIAN QUADRATURE FORMULAS FOR TRIANGLES.">Kratos</a> Multiphysics</b></em> framework. Instructions on how to get a copy of the project and run on your local machine for development and testing purposes are available for both <a href="http://kratos-wiki.cimne.upc.edu/index.php/LinuxInstall">Linux</a> and <a href="http://kratos-wiki.cimne.upc.edu/index.php/Windows_7_Download_and_Installation">Windows</a> systems.</p>
<p>Before building <em><a class="el" href="../../db/d66/namespace_kratos.html" title="REF: G. R. Cowper, GAUSSIAN QUADRATURE FORMULAS FOR TRIANGLES.">Kratos</a> Multiphysics</em>, make sure to add the following applications to your configure file:</p>
<ul>
<li><a class="el" href="../../dd/db7/namespace_thermal_d_e_m_application.html">ThermalDEMApplication</a></li>
<li><a class="el" href="../../dd/d38/namespace_delaunay_meshing_application.html">DelaunayMeshingApplication</a></li>
</ul>
<h1>Instructions</h1>
<p>To create a model for the Thermal DEM Application, the following adaptations must be done to the input files of the DEM Application.</p>
<h2><a class="el" href="../../d4/da6/namespace_main_kratos.html">MainKratos</a> (python file)</h2>
<p>Replace the import of the <em>AnalysisStage</em> of the DEM Application with the <em>AnalysisStage</em> of the Thermal DEM Application, which is imported as follows: </p><pre class="fragment">from KratosMultiphysics.ThermalDEMApplication.thermal_dem_analysis import ThermalDEMAnalysis
</pre><p> You can check the template of the <em><a class="el" href="../../d4/da6/namespace_main_kratos.html">MainKratos</a></em> file <a href="https://github.com/KratosMultiphysics/Kratos/blob/4c8a07592cf4056557be0e5dff1c19839a5e3b98/applications/ThermalDEMApplication/python_scripts/MainKratosThermalDEMAnalysis.py">here</a>.</p>
<h2>Project Parameters (json file)</h2>
<p>Change <b>solver strategy</b>.\ Available options: <em><a class="el" href="../../d0/d6f/namespacethermal__sphere__strategy.html">thermal_sphere_strategy</a></em>. </p><pre class="fragment">"solver_settings": {
    "strategy": "thermal_sphere_strategy"
}
</pre><p> Change <b>element type</b>.\ Available options: <em>ThermalSphericPartDEMElement3D</em>. </p><pre class="fragment">"ElementType": "ThermalSphericPartDEMElement3D"
</pre><p> Add <b>thermal settings</b> with desired options: </p><pre class="fragment">"thermal_settings" : {
    "thermal_integration_scheme"     : "forward_euler",
    "numerical_integration_method"   : "adaptive_simpson",
    "thermal_solve_frequency"        : 1,
    "voronoi_tesselation_frequency"  : 1000,
    "porosity_update_frequency"      : 1000,
    "automatic_solve_frequency"      : true or false,
    "compute_motion"                 : true or false,
    "compute_direct_conduction"      : true or false,
    "compute_indirect_conduction"    : true or false,
    "compute_convection"             : true or false,
    "compute_radiation"              : true or false,
    "compute_heat_generation"        : true or false,
    "compute_adjusted_contact"       : true or false,
    "direct_conduction_model"        : "batchelor_obrien_simple" or "batchelor_obrien_complete" or "batchelor_obrien_modified" or "thermal_pipe" or "collisional",
    "indirect_conduction_model"      : "surrounding_layer" or "voronoi_a" or "voronoi_b" or "vargas_mccarthy",
    "nusselt_correlation"            : "sphere_hanz_marshall" or "sphere_whitaker" or "sphere_gunn" or "sphere_li_mason",
    "radiation_model"                : "continuum_zhou" or "continuum_krause",
    "heat_generation_model"          : ["sliding_friction","rolling_friction","contact_damping"],
    "adjusted_contact_model"         : "zhou" or "lu" or "morris",
    "voronoi_method"                 : "tesselation" or "porosity",
    "porosity_method"                : "global" or "average_convex_hull" or "average_alpha_shape",
    "min_conduction_distance"        : 0.0000000275,
    "max_conduction_distance"        : 1.0,
    "conduction_radius"              : 1.0,
    "fluid_layer_thickness"          : 0.4,
    "isothermal_core_radius"         : 0.5,
    "max_radiation_distance"         : 2.0,
    "heat_generation_ratio"          : 1.0,
    "global_porosity"                : 0.0,
    "alpha_shape_parameter"          : 1.2,
    "integral_tolerance"             : 0.000001,
    "heat_map_corners"               : [[0,0,0],[1,1,1]],
    "heat_map_subdivisions"          : [10,10,10],
    "global_fluid_properties"        : {
        "fluid_density"              : 1.0,
        "fluid_viscosity"            : 1.0,
        "fluid_thermal_conductivity" : 1.0,
        "fluid_heat_capacity"        : 1.0,
        "fluid_temperature"          : 0.0,
        "fluid_velocity_X"           : 0.0,
        "fluid_velocity_Y"           : 0.0,
        "fluid_velocity_Z"           : 0.0
    }
}
</pre><p> Add <b>post options</b> with desired options: </p><pre class="fragment">"PostTemperature"                : true or false,
"PostHeatFlux"                   : true or false,
"PostGraphParticleTempMin"       : true or false,
"PostGraphParticleTempMax"       : true or false,
"PostGraphParticleTempAvg"       : true or false,
"PostGraphParticleTempDev"       : true or false,
"PostGraphModelTempAvg"          : true or false,
"PostGraphHeatFluxContributions" : true or false,
"PostGraphHeatGenContributions"  : true or false,
"PostGraphEnergyContributions"   : true or false,
"PostMapHeatGeneration"          : true or false
</pre> <h2>Materials (json file)</h2>
<p>Add <b>material variables and tables</b>: </p><pre class="fragment">"materials": [{
    "Variables": {
        "THERMAL_CONDUCTIVITY"          : 0.0,
        "SPECIFIC_HEAT"                 : 0.0,
        "EMISSIVITY"                    : 0.0,
        "THERMAL_EXPANSION_COEFFICIENT" : 0.0
    },
    "Tables": {
        "TABLE_NAME": {
            "input_variable"  : "TEMPERATURE",
            "output_variable" : "PARTICLE_DENSITY" or "YOUNG_MODULUS" or "POISSON_RATIO" or "SPECIFIC_HEAT" or "THERMAL_CONDUCTIVITY" or "EMISSIVITY" or "THERMAL_EXPANSION_COEFFICIENT",
            "data"            : [[0.0,0.0],[0.0,0.0]]
        }
    }
}]
</pre><p> Add <b>material relations variables</b>: </p><pre class="fragment">"material_relations": [{
    "Variables": {
        "DYNAMIC_FRICTION" : 0.0
    }
}]
</pre> <h2>DEM Model Parts (mdpa file)</h2>
<p>Change <b>elements type</b>.\ Available options: <em>ThermalSphericParticle</em>. </p><pre class="fragment">Begin Elements ThermalSphericParticle
</pre><p> Add <b>SubModelPartData</b> to sub model parts with desired options: </p><pre class="fragment">Begin SubModelPart PART_NAME
    Begin SubModelPartData
        TEMPERATURE               0.0
        FIXED_TEMPERATURE         0
        HEATFLUX                  0.0
        HEATSOURCE                0.0
        ADIABATIC                 0
        REAL_YOUNG_MODULUS_RATIO  0.0
    End SubModelPartData
End SubModelPart
</pre> <h2>DEM-FEM Boundary Model Parts (mdpa file)</h2>
<p>Add <b>NodalData TEMPERATURE</b> to all nodes: </p><pre class="fragment">Begin NodalData TEMPERATURE
    1  0  0.0
    2  0  0.0
    3  0  0.0
    ...
End NodalData
</pre><p> Add <b>SubModelPartData</b> to sub model parts with desired options: </p><pre class="fragment">Begin SubModelPart PART_NAME
    Begin SubModelPartData
        ADIABATIC   0
    End SubModelPartData
End SubModelPart
</pre> <h1>Input Explanations</h1>
<p><b>Thermal settings</b></p><ul>
<li>*"thermal_integration_scheme"*:\ Selected scheme for time integration of thermal problem.\ Default: "forward_euler"</li>
<li>*"numerical_integration_method"*:\ Selected metohd for solving integration expressions numerically.\ Default: "adaptive_simpson"</li>
<li>*"thermal_solve_frequency"*:\ Number of steps in which thermal problem is solved.\ Default: 1</li>
<li>*"voronoi_tesselation_frequency"*:\ Number of steps in which Voronoi diagram is built, in case it is required.\ Default: 1000</li>
<li>*"porosity_update_frequency"*:\ Number of steps in which porosity is computed, in case it is required.\ Default: 1000</li>
<li>*"automatic_solve_frequency"*:\ Boolean for automatically setting the thermal solve frequency based on the maximum allowed time step (it overrides the value set for thermal_solve_frequency).\ Default: false</li>
<li>*"compute_motion"*:\ Boolean for solving mechanical problem.\ Default: true</li>
<li>*"compute_direct_conduction"*:\ Boolean for computing heat transfer between elements by direct conduction.\ Default: true</li>
<li>*"compute_indirect_conduction"*:\ Boolean for computing heat transfer between elements by indirect conduction.\ Default: false</li>
<li>*"compute_convection"*:\ Boolean for computing heat transfer from fluid to particles by convection.\ Default: false</li>
<li>*"compute_radiation"*:\ Boolean for computing heat transfer between elements by radiation.\ Default: false</li>
<li>*"compute_heat_generation"*:\ Boolean for computing heat generation by energy dissipation between elements.\ Default: false</li>
<li>*"compute_adjusted_contact"*:\ Boolean for adjusting contact geometry between elements according to the real value of Young modulus.\ Default: false</li>
<li>*"direct_conduction_model"*:\ Selected model for simulating heat transfer by direct conduction.\ Default: "batchelor_obrien_simple"</li>
<li>*"indirect_conduction_model"*:\ Selected model for simulating heat transfer by indirect conduction.\ Default: "surrounding_layer"</li>
<li>*"nusselt_correlation"*:\ Selected correlation for computing Nusselt number and thus simulating heat convection between solids and fluid.\ Default: "sphere_hanz_marshall"</li>
<li>*"radiation_model"*:\ Selected model for simulating heat transfer by radiation.\ Default: "continuum_zhou"</li>
<li>*"heat_generation_model"*:\ List of selected models for simulating heat generation by energy dissipation.\ Default: ["sliding_friction"]</li>
<li>*"adjusted_contact_model"*:\ Selected model for adjusting contact geometry.\ Default: "zhou"</li>
<li>*"voronoi_method"*:\ Selected method for obtaining data from Voronoi diagram, in case it is required.\ Default: "tesselation"</li>
<li>*"porosity_method"*:\ Selected method for computing porosity, in case it is required.\ Default: "average_alpha_shape"</li>
<li>*"min_conduction_distance"*:\ Minimum heat conduction distance required for indirect conduction model "surrounding_layer".\ Default: 0.0000000275</li>
<li>*"max_conduction_distance"*:\ Maximum distance for heat conduction (ratio of particles radii) required for conduction model "batchelor_obrien_complete", "batchelor_obrien_modified", "voronoi_a" and "voronoi_b".\ Default: 1.0</li>
<li>*"conduction_radius"*:\ Radius of cylindrical conductive region (ratio of particles radii) required for conduction model "batchelor_obrien_complete" and "batchelor_obrien_modified".\ Default: 1.0</li>
<li>*"fluid_layer_thickness"*:\ Thickness of particle fluid layer (ratio of particles radii) required for conduction model "surrounding_layer".\ Default: 0.4</li>
<li>*"isothermal_core_radius"*:\ Radius of particle isothermal core (ratio of particles radii) required for conduction model "voronoi_b".\ Default: 0.5</li>
<li>*"max_radiation_distance"*:\ Maximum distance for heat radiation (ratio of particles radii) required for all radiation models.\ Default: 2.0</li>
<li>*"heat_generation_ratio"*:\ Ratio of dissipated energy that is converted into heat.\ Default: 1.0</li>
<li>*"global_porosity"*:\ Prescribed value for the porosity, required for porosity computation method "global".\ Default: 0.0</li>
<li>*"alpha_shape_parameter"*:\ Alpha radius for the alpha-shape method, required for porosity computation method "average_alpha_shape".\ Default: 1.2</li>
<li>*"integral_tolerance"*:\ Numerical tolerance for numerical integration, in case it is required.\ Default: 0.000001</li>
<li>*"heat_map_corners"*:\ Coordinates of two opposite corners of a cuboid that define the region where heat map is evaluated.\ Default: [[0,0,0],[1,1,1]]</li>
<li>*"heat_map_subdivisions"*:\ Number of subdivisions in X,Y,Z directions to defined the grid of the heat map.\ Default: [10,10,10]</li>
<li>*"global_fluid_properties"*:\ Prescribed values for the properties of the interstitial fluid, assumed as constant throughout all the analysis (fluid behavior does not change as it is not simulated).</li>
<li>*"global_fluid_properties.fluid_density"*:\ Fixed value of fluid density.\ Default: 1.0</li>
<li>*"global_fluid_properties.fluid_viscosity"*:\ Fixed value of fluid viscosity.\ Default: 1.0</li>
<li>*"global_fluid_properties.fluid_thermal_conductivity"*:\ Fixed value of fluid thermal conductivity.\ Default: 1.0</li>
<li>*"global_fluid_properties.fluid_heat_capacity"*:\ Fixed value of fluid heat capacity.\ Default: 1.0</li>
<li>*"global_fluid_properties.fluid_temperature"*:\ Fixed value of fluid temperature.\ Default: 0.0</li>
<li>*"global_fluid_properties.fluid_velocity_X"*:\ Fixed value of fluid velocity in global X direction.\ Default: 0.0</li>
<li>*"global_fluid_properties.fluid_velocity_Y"*:\ Fixed value of fluid velocity in global Y direction.\ Default: 0.0</li>
<li>*"global_fluid_properties.fluid_velocity_Z"*:\ Fixed value of fluid velocity in global Z direction.\ Default: 0.0</li>
</ul>
<p><b>Post options</b></p><ul>
<li>*"PostTemperature"*:\ Boolean for showing elements temperature in post processing.\ Default: false</li>
<li>*"PostHeatFlux"*:\ Boolean for showing elements heat flux in post processing.\ Default: false</li>
<li>*"PostGraphParticleTempMin"*:\ Boolean for writing a graph with the minimum particle temperature.\ Default: false</li>
<li>*"PostGraphParticleTempMax"*:\ Boolean for writing a graph with the maximum particle temperature.\ Default: false</li>
<li>*"PostGraphParticleTempAvg"*:\ Boolean for writing a graph with the average temperature of all particles.\ Default: false</li>
<li>*"PostGraphParticleTempDev"*:\ Boolean for writing a graph with the standard deviation of the temperature of all particles.\ Default: false</li>
<li>*"PostGraphModelTempAvg"*:\ Boolean for writing a graph with the weighted average of the temperature of all particles (taking the particles volume into account).\ Default: false</li>
<li>*"PostGraphHeatFluxContributions"*:\ Boolean for writing a graph with the contribution of each heat transfer mechanism to the total heat transfer.\ Default: false</li>
<li>*"PostGraphHeatGenContributions"*:\ Boolean for writing a graph with the contribution of each heat generation mechanism to the total heat generation.\ Default: false</li>
<li>*"PostGraphEnergyContributions"*:\ Boolean for writing a graph with the energy composition (conservative and accumulated dissipative components) of all partilces.\ Default: false</li>
<li>*"PostMapHeatGeneration"*:\ Boolean for assemblying and writing the density map of heat generation.\ Default: false</li>
</ul>
<p><b>Material properties</b></p><ul>
<li>*"materials.Variables.THERMAL_CONDUCTIVITY"*:\ Thermal conductivity of material (always required).</li>
<li>*"materials.Variables.SPECIFIC_HEAT"*:\ Specific heat of material (always required).</li>
<li>*"materials.Variables.EMISSIVITY"*:\ Emissivity of material surface, from 0.0 to 1.0, in which 1.0 is a perfect black body (required by radiative heat transfer).</li>
<li>*"materials.Variables.THERMAL_EXPANSION_COEFFICIENT"*:\ Thermal expansion coefficient of material (default: 0.0).</li>
<li>*"materials.Tables.input_variable"*:\ Input (X-axis) variable of the curve given by the table.</li>
<li>*"materials.Tables.output_variable"*:\ Output (Y-axis) variable of the curve given by the table.</li>
<li>*"materials.Tables.data"*:\ Points of the curve given by the table.</li>
<li>*"material_relations.Variables.DYNAMIC_FRICTION"*:\ Dynamic friction coefficient between materials (required by heat generation by sliding friction).</li>
</ul>
<p><b>SubModelPartData</b></p><ul>
<li><em>TEMPERATURE</em>:\ Initial temperature of the elements.\ Default: 0.0</li>
<li><em>FIXED_TEMPERATURE</em>:\ Boolean for fixing the temperature of the elements.\ Default: 0</li>
<li><em>HEATFLUX</em>:\ Prescribed value of heat flux applied over elements surface (thermal power by area).\ Default: 0.0</li>
<li><em>HEATSOURCE</em>:\ Prescribed value of heat source applied over elements volume (thermal power by volume).\ Default: 0.0</li>
<li><em>ADIABATIC</em>:\ Boolean for setting elements as adiabatic (no heat transfer with other elements).\ Default: 0</li>
<li><em>REAL_YOUNG_MODULUS_RATIO</em>:\ Ratio between the real value of the Young modulus and the value used in the simulation.\ Default: 1.0</li>
</ul>
<h1>Testing</h1>
<p>To test if the application is working correctly, run the <em>test_ThermalDEMApplication.py</em> file, located in the <em>tests</em> folder. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 19 2024 03:34:01 for KratosMultiphysics by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
